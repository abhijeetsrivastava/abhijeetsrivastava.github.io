<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Language" content="en">

    <meta name="author" content="Abhijeet Srivastava">
    <meta name="description" content="Design pattern that&rsquo;s like a waffle For ones who love waffles get to choose from a wide variety - StrawberryWaffle, BlackberryWaffle, BananaWaffle, WalnutWaffle.
For a chef this is not a complex recipe. They make plain waffles and then put toppings based on customer choice.
What&rsquo;s a waffle got to do with Design pattern? Well, let&rsquo;s say if you are trying to print a receipt it would have a header, item details and a footer.">
    <meta name="keywords" content="blog,developer,personal">

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Decorator (waffle) design pattern"/>
<meta name="twitter:description" content="Design pattern that&rsquo;s like a waffle For ones who love waffles get to choose from a wide variety - StrawberryWaffle, BlackberryWaffle, BananaWaffle, WalnutWaffle.
For a chef this is not a complex recipe. They make plain waffles and then put toppings based on customer choice.
What&rsquo;s a waffle got to do with Design pattern? Well, let&rsquo;s say if you are trying to print a receipt it would have a header, item details and a footer."/>

    <meta property="og:title" content="Decorator (waffle) design pattern" />
<meta property="og:description" content="Design pattern that&rsquo;s like a waffle For ones who love waffles get to choose from a wide variety - StrawberryWaffle, BlackberryWaffle, BananaWaffle, WalnutWaffle.
For a chef this is not a complex recipe. They make plain waffles and then put toppings based on customer choice.
What&rsquo;s a waffle got to do with Design pattern? Well, let&rsquo;s say if you are trying to print a receipt it would have a header, item details and a footer." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://abhijeetsrivastava.github.io/posts/2021-01-31-decorator_waffle_design_pattern/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-01-31T22:20:00+05:30" />
<meta property="article:modified_time" content="2021-01-31T22:20:00+05:30" />



    <title>
  Decorator (waffle) design pattern · A techie blog!
</title>

    
      <link rel="canonical" href="https://abhijeetsrivastava.github.io/posts/2021-01-31-decorator_waffle_design_pattern/">
    

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.1.7/css/fork-awesome.min.css"
      integrity="sha256-gsmEoJAws/Kd3CjuOQzLie5Q3yshhvmo7YNtBG7aaEY=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8/normalize.min.css">
    
      
      
      <link rel="stylesheet" href="/css/coder.min.f01c647a0d25b40da992a37c3376291185eed8a50ced8c26cc2c0bcfe38c97df.css" integrity="sha256-8Bxkeg0ltA2pkqN8M3YpEYXu2KUM7YwmzCwLz&#43;OMl98=" crossorigin="anonymous" media="screen" />
    

    

    
      
        
        
        <link rel="stylesheet" href="/css/coder-dark.min.126ad3988d46bdae6217a11105b53c9662bca05f39d42d3c0fb366919d334620.css" integrity="sha256-EmrTmI1Gva5iF6ERBbU8lmK8oF851C08D7NmkZ0zRiA=" crossorigin="anonymous" media="screen" />
      
    

    

    

    <link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

    <link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

    
      <script defer src="https://twemoji.maxcdn.com/v/13.0.1/twemoji.min.js"
        integrity="sha384-5f4X0lBluNY/Ib4VhGx0Pf6iDCF99VGXJIyYy7dDLY5QlEd7Ap0hICSSZA1XYbc4" crossorigin="anonymous"></script>
    

    <meta name="generator" content="Hugo 0.88.1" />
  </head>

  
  
    
  
  <body class="colorscheme-auto"
        onload=" twemoji.parse(document.body); "
  >
    
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="/">
      A techie blog!
    </a>
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link" href="/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/posts/">Blog</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/contact/">Contact me</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


      <div class="content">
        
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">Decorator (waffle) design pattern</h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa fa-calendar" aria-hidden="true"></i>
              <time datetime='2021-01-31T22:20:00&#43;05:30'>
                January 31, 2021
              </time>
            </span>
            <span class="reading-time">
              <i class="fa fa-clock-o" aria-hidden="true"></i>
              3-minute read
            </span>
          </div>
          
          
          
        </div>
      </header>

      <div>
        
        <h2 id="design-pattern-that-s-like-a-waffle">Design pattern that&rsquo;s like a waffle</h2>
<p>For ones who love waffles get to choose from a wide variety -
StrawberryWaffle, BlackberryWaffle, BananaWaffle, WalnutWaffle.</p>
<p>For a chef this is not a complex recipe. They make plain waffles and then put
toppings based on customer choice.</p>
<p>What&rsquo;s a waffle got to do with Design pattern? Well, let&rsquo;s say if you are
trying to print a receipt it would have a header, item details and a footer.</p>
<ul>
<li>Header: might be different for different companies/domains.</li>
<li>Item details: might be similar</li>
<li>Footer: would be the signature for the company.</li>
</ul>
<p>From above details its clear that header, item details and footer are
different entities and hence must remain separate.</p>
<p>Decorator design pattern, helps one to get these separate entities together
(waffle) based on requirement.</p>
<h2 id="when-to-use">When to use?</h2>
<p>Ideally this would be used when one has to decorate an entity - think of item
detail being decorated with a header and footer.</p>
<p>Or when one has a waffle and many toppings to use from.</p>
<h2 id="different-parts-of-a-decorator">Different parts of a decorator</h2>
<figure><img src="/ox-hugo/2021-02-02_11-24-18_screenshot.png"
         alt="Figure 1: Decorator pattern. Source: wiki"/><figcaption>
            <p>Figure 1: Decorator pattern. Source:  <a href="https://en.wikipedia.org/wiki/Decorator%5Fpattern">wiki</a></p>
        </figcaption>
</figure>

<ol>
<li>Component &amp; ConcreteComponent</li>
<li>Decorator &amp; ConcreteDecorator</li>
<li>Factory (Optional)</li>
</ol>
<h3 id="component">Component</h3>
<p>This is what you want to decorate. Let&rsquo;s understand this with a few examples</p>
<ol>
<li>For receipt example, the item details is being decorated. So a <strong>Receipt</strong>
component which is implemented by <strong>SimpleReceipt</strong> is more than enough.</li>
<li>For waffle example, waffle is being decorated. So a <strong>Waffle</strong> component which
is implemented by <strong>PlainWaffle.</strong></li>
</ol>
<h3 id="decorator">Decorator</h3>
<p>You would want to decorate the component using a decorator.</p>
<ol>
<li>For receipt example, you want to decorate with a FooterDecorator and a HeaderDecorator.</li>
<li>For waffle, you want different toppings to decorate it.</li>
</ol>
<h3 id="factory">Factory</h3>
<p>This is where you instantiate classes. This is also where you decide the
sequence in which you would want to decorate by adding decorators to your component.</p>
<h2 id="sample">Sample</h2>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="color:#719e07">trait</span> <span style="color:#268bd2">Waffle</span> <span style="color:#719e07">{</span>
  <span style="color:#719e07">def</span> cost<span style="color:#719e07">:</span> <span style="color:#dc322f">Double</span>
  <span style="color:#719e07">def</span> ingredients<span style="color:#719e07">:</span> <span style="color:#dc322f">String</span>
  <span style="color:#719e07">override</span> <span style="color:#719e07">def</span> toString<span style="color:#719e07">:</span> <span style="color:#dc322f">String</span> <span style="color:#719e07">=</span> <span style="color:#2aa198">s&#34;cost: </span><span style="color:#2aa198">${</span><span style="color:#719e07">this</span><span style="color:#719e07">.</span>cost<span style="color:#2aa198">}</span><span style="color:#2aa198"> ingredients: </span><span style="color:#2aa198">${</span><span style="color:#719e07">this</span><span style="color:#719e07">.</span>ingredients<span style="color:#2aa198">}</span><span style="color:#2aa198">&#34;</span>
<span style="color:#719e07">}</span>

<span style="color:#719e07">class</span> <span style="color:#268bd2">SimpleWaffle</span> <span style="color:#719e07">extends</span> <span style="color:#268bd2">Waffle</span> <span style="color:#719e07">{</span>
  <span style="color:#719e07">override</span> <span style="color:#719e07">def</span> cost <span style="color:#719e07">=</span> <span style="color:#2aa198">1</span>
  <span style="color:#719e07">override</span> <span style="color:#719e07">def</span> ingredients <span style="color:#719e07">=</span> <span style="color:#2aa198">&#34;Waffle&#34;</span>
<span style="color:#719e07">}</span>

<span style="color:#719e07">abstract</span> <span style="color:#719e07">class</span> <span style="color:#268bd2">WaffleDecorator</span><span style="color:#719e07">(</span>decoratedWaffle<span style="color:#719e07">:</span> <span style="color:#dc322f">Waffle</span><span style="color:#719e07">)</span> <span style="color:#719e07">extends</span> <span style="color:#268bd2">Waffle</span> <span style="color:#719e07">{</span>
  <span style="color:#719e07">val</span> delimiter <span style="color:#719e07">=</span> <span style="color:#2aa198">&#34; &amp; &#34;</span>

  <span style="color:#719e07">override</span> <span style="color:#719e07">def</span> cost <span style="color:#719e07">=</span> decoratedWaffle<span style="color:#719e07">.</span>cost
  <span style="color:#719e07">override</span> <span style="color:#719e07">def</span> ingredients <span style="color:#719e07">=</span> decoratedWaffle<span style="color:#719e07">.</span>ingredients
<span style="color:#719e07">}</span>

<span style="color:#719e07">class</span> <span style="color:#268bd2">Strawberry</span><span style="color:#719e07">(</span>decoratedWaffle<span style="color:#719e07">:</span> <span style="color:#dc322f">Waffle</span><span style="color:#719e07">)</span> <span style="color:#719e07">extends</span> <span style="color:#268bd2">WaffleDecorator</span><span style="color:#719e07">(</span>decoratedWaffle<span style="color:#719e07">)</span> <span style="color:#719e07">{</span>
  <span style="color:#719e07">override</span> <span style="color:#719e07">def</span> cost <span style="color:#719e07">=</span> <span style="color:#719e07">super</span><span style="color:#719e07">.</span>cost <span style="color:#719e07">+</span> <span style="color:#2aa198">1.0</span>
  <span style="color:#719e07">override</span> <span style="color:#719e07">def</span> ingredients <span style="color:#719e07">=</span> <span style="color:#719e07">super</span><span style="color:#719e07">.</span>ingredients <span style="color:#719e07">+</span> delimiter <span style="color:#719e07">+</span> <span style="color:#2aa198">&#34;Strawberry&#34;</span>
<span style="color:#719e07">}</span>

<span style="color:#719e07">class</span> <span style="color:#268bd2">Banana</span><span style="color:#719e07">(</span>decoratedWaffle<span style="color:#719e07">:</span> <span style="color:#dc322f">Waffle</span><span style="color:#719e07">)</span> <span style="color:#719e07">extends</span> <span style="color:#268bd2">WaffleDecorator</span><span style="color:#719e07">(</span>decoratedWaffle<span style="color:#719e07">)</span> <span style="color:#719e07">{</span>
  <span style="color:#719e07">override</span> <span style="color:#719e07">def</span> cost <span style="color:#719e07">=</span> <span style="color:#719e07">super</span><span style="color:#719e07">.</span>cost <span style="color:#719e07">+</span> <span style="color:#2aa198">0.5</span>
  <span style="color:#719e07">override</span> <span style="color:#719e07">def</span> ingredients <span style="color:#719e07">=</span> <span style="color:#719e07">super</span><span style="color:#719e07">.</span>ingredients <span style="color:#719e07">+</span> delimiter <span style="color:#719e07">+</span> <span style="color:#2aa198">&#34;Banana&#34;</span>
<span style="color:#719e07">}</span>

<span style="color:#719e07">object</span> <span style="color:#268bd2">Factory</span> <span style="color:#719e07">{</span>
  <span style="color:#719e07">def</span> main<span style="color:#719e07">(</span>args<span style="color:#719e07">:</span> <span style="color:#dc322f">Array</span><span style="color:#719e07">[</span><span style="color:#dc322f">String</span><span style="color:#719e07">])</span> <span style="color:#719e07">=</span> <span style="color:#719e07">{</span>
    <span style="color:#719e07">var</span> waffle<span style="color:#719e07">:</span> <span style="color:#dc322f">Waffle</span> <span style="color:#719e07">=</span> <span style="color:#719e07">new</span> <span style="color:#268bd2">SimpleWaffle</span>
    println<span style="color:#719e07">(</span>waffle<span style="color:#719e07">)</span>
    waffle <span style="color:#719e07">=</span> <span style="color:#719e07">new</span> <span style="color:#268bd2">Banana</span><span style="color:#719e07">(</span>waffle<span style="color:#719e07">)</span>
    println<span style="color:#719e07">(</span>waffle<span style="color:#719e07">)</span>
    waffle <span style="color:#719e07">=</span> <span style="color:#719e07">new</span> <span style="color:#268bd2">Strawberry</span><span style="color:#719e07">(</span>waffle<span style="color:#719e07">)</span>
    println<span style="color:#719e07">(</span>waffle<span style="color:#719e07">)</span>
  <span style="color:#719e07">}</span>
<span style="color:#719e07">}</span>

<span style="color:#268bd2">Factory</span><span style="color:#719e07">.</span>main<span style="color:#719e07">(</span><span style="color:#268bd2">Array</span><span style="color:#719e07">())</span>

</code></pre></div><blockquote>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">cost: 1.0 ingredients: Waffle
cost: 1.5 ingredients: Waffle &amp; Banana
cost: 2.5 ingredients: Waffle &amp; Banana &amp; Strawberry
</code></pre></div></blockquote>
<h2 id="conclusion">Conclusion</h2>
<p>Decorator pattern is one of the most simple design pattern which one should
know how and when to use. This makes designing easy when you are dealing with
some sort of decorations.</p>
<p>Always start with component and decide how you want to decorate.</p>
<p>Another cool thing about this pattern is that one can write test cases quite
easily since all components are abstracted out.</p>

      </div>


      <footer>
        


        
        
        
      </footer>
    </article>

    
  </section>

      </div>

      
  <footer class="footer">
    <section class="container">
      
      
        ©
        
          2019 -
        
        2021
         Abhijeet Srivastava 
      
      
         · 
        Powered by <a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/">Coder</a>.
      
      
    </section>
  </footer>


    </main>

    
      
        
        <script src="/js/dark-mode.min.aee9c8a464eb7b3534c7110f7c5e169e7039e2fd92710e0626d451d6725af137.js"></script>
      
    

    

    

    

    

    

    
  </body>

</html>
